var $=function(){"use strict";let i=t=>{if(i.is_function(t))document.readyState==="complete"?cb():document.addEventListener("DOMContentLoaded",()=>{cb()});else{if(i.is_string(t))return i.is_html(t)?$(i.el(t)):new h(document.querySelector(t));if(i.is_html_element(t))return new h(t);if(i.is_document(t))return new TeriyakitDocument(t);if(i.is_window(t))return new TeriyakiiWindow(t)}};i.all=t=>new c(document.querySelectorAll(t)),i.query=t=>document.querySelector(t),i.queryAll=t=>document.querySelectorAll(t),i.is_function=t=>typeof t=="function",i.is_string=t=>typeof t=="string",i.is_html=t=>typeof t=="string"&&t.includes("<")&&t.includes(">"),i.is_html_element=t=>HTMLElement.prototype.isPrototypeOf(t),i.is_teriyaki=t=>t instanceof u,i.is_document=t=>t instanceof Document,i.is_window=t=>t===window,i.el=t=>{let e=document.createElement("div");return e.innerHTML=t.trim(),e.childElementCount==1?e.firstChild:e.childElementCount>1?new h(e.childNodes):null},i.wrap=(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},i.default=(t,e)=>t==null||t===""?e:t,i.extend=(t,e)=>typeof t=="object"&&typeof e=="object"?Object.assign(t,e):null,i.create_event=(t,e={},n=!0)=>new CustomEvent(t,{bubbles:n,detail:e}),i.broadcast_receiver=(t,e=null)=>{const n=new BroadcastChannel(t);typeof e=="function"&&(n.onmessage=s=>{e(s.data)})},i.broadcast=(t,e)=>{new BroadcastChannel(t).postMessage(e)},i.pushState=(t=null,e)=>{window.history.replaceState(t,null,""),window.history.pushState(null,null,e)},i.get_html=(t,e=!0)=>new Promise((n,s)=>{let o={};e||(o={cache:"no-cache"}),fetch(t,o).then(r=>r.text()).then(r=>n(r)).catch(r=>s(r))}),i.get_text=(t,e=!0)=>new Promise((n,s)=>{let o={};e||(o={cache:"no-cache"}),fetch(t,o).then(r=>r.text()).then(r=>n(r)).catch(r=>s(r))}),i.get_json=(t,e=!0)=>new Promise((n,s)=>{let o={};e||(o={cache:"no-cache"}),fetch(t,o).then(r=>r.json()).then(r=>n(r)).catch(r=>s(r))}),i.post=(t,e=null)=>new Promise((n,s)=>{let o={};cached||(o={cache:"no-cache"}),o.method="POST",o.body=e,fetch(t,o).then(r=>r.json()).then(r=>n(r)).catch(r=>s(r))}),i.ready=t=>{if(document.readyState==="complete")t();else{let e=()=>{setTimeout(()=>{t()},100),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}},i.UUID=()=>window.crypto.randomUUID(),i.log=t=>{console.log(t)},i.random=(t,e)=>Math.floor(Math.random()*(e-t+1)+t),i.base64_encode=t=>btoa(t),i.base64_decode=t=>atob(t);class u{constructor(e){this.el=e}trigger(e){return this.el.dispatchEvent(e),this}on(e,n){return i.is_function(n)&&this.el&&this.el.addEventListener(e,n),this}one(e,n){return i.is_function(n)&&this.el&&this.el.addEventListener(e,n,{once:!0}),this}off(e,n){return i.is_function(n)&&this.el&&this.el.removeEventListener(e,n),this}}class h extends u{addClass(e){return this.el.classList.add(e),this}removeClass(e){return this.el.classList.remove(e),this}text(e){return typeof e=="string"?(this.el.innerText=e,this):this.el.innerText}html(e){return typeof e=="string"?(this.el.innerHTML=e,this):this.el.innerHTML}html_unsafe(e){return typeof e==="string"?(this.el.innerHTML=e,Array.from(this.el.querySelectorAll("script")).forEach(s=>{const o=document.createElement("script");Array.from(s.attributes).forEach(l=>{o.setAttribute(l.name,l.value)});const r=document.createTextNode(s.innerHTML);o.appendChild(r),s.parentNode.replaceChild(o,s)}),this):this.el.innerHTML}wrap(e){if(i.is_teriyaki(e))i.wrap(this.el,e.el);else if(i.is_html_element(e))i.wrap(this.el,e);else if(i.is_html(e)){let n=i.el(e);i.wrap(this.el,n)}return this}color(e){return this.el.style.setProperty("color",e),this}show(){return this.el.removeAttribute("hidden"),this}hide(){return this.el.setAttribute("hidden",""),this}attr(e,n){return e&&typeof e=="string"?n&&typeof n=="string"?(this.el.setAttribute(e,n),this):this.el.getAttribute(e):null}data(e,n){return e&&typeof e=="string"?n&&typeof n=="string"?(this.el.setAttribute("data-"+e,n),this):this.el.getAttribute("data-"+e):null}css(e){return typeof e=="object"&&Object.keys(e).forEach(n=>{this.el.style.setProperty(n,e[n])}),this}width(){return this.el.getBoundingClientRect().width}height(){return this.el.getBoundingClientRect().height}fadeIn(e=600,n=null){let s=[{opacity:0},{opacity:1}],o={duration:e,iterations:1,fill:"both"},r=this.el.animate(s,o);return typeof n=="function"&&r.addEventListener("finish",l=>{n()}),this}fadeOut(e=600,n=null){let s=[{opacity:1},{opacity:0}],o={duration:e,iterations:1,fill:"both"},r=this.el.animate(s,o);return typeof n=="function"&&r.addEventListener("finish",l=>{n()}),this}}class c{constructor(e){this.elements=Array.from(e)}addClass(e){this.elements.forEach(n=>{n.classList.add(e)})}removeClass(e){this.elements.forEach(n=>{n.classList.remove(e)})}text(e){typeof e=="string"&&this.elements.forEach(n=>{n.innerText=e})}html(e){typeof e=="string"&&this.elements.forEach(n=>{n.innerHTML=e})}html_unsafe(e){if(typeof e==="string")return this.elements.forEach(s=>{s.innerHTML=e,Array.from(s.querySelectorAll("script")).forEach(o=>{const r=document.createElement("script");Array.from(o.attributes).forEach(a=>{r.setAttribute(a.name,a.value)});const l=document.createTextNode(o.innerHTML);r.appendChild(l),o.parentNode.replaceChild(r,o)})}),this}wrap(e){if(i.is_teriyaki(e))this.elements.forEach(n=>{i.wrap(n,e.el)});else if(i.is_html_element(e))this.elements.forEach(n=>{i.wrap(n,e)});else if(i.is_html(e)){let n=i.el(e);this.elements.forEach(s=>{i.wrap(s,n)})}return this}color(e){this.elements.forEach(n=>{n.style.setProperty("color",e)})}show(){this.elements.forEach(e=>{e.removeAttribute("hidden")})}hide(){this.elements.forEach(e=>{e.setAttribute("hidden","")})}attr(e,n){e&&typeof e=="string"&&n&&typeof n=="string"&&this.elements.forEach(s=>{s.setAttribute(e,n)})}data(e,n){return e&&typeof e=="string"&&n&&typeof n=="string"&&this.elements.forEach(s=>{s.setAttribute("data-"+e,n)}),null}css(e){typeof e=="object"&&Object.keys(e).forEach(n=>{this.elements.forEach(s=>{s.style.setProperty(n,e[n])})})}fadeIn(e=600,n=null){let s=[{opacity:0},{opacity:1}],o={duration:e,iterations:1,fill:"both"},r=0;return this.elements.forEach(l=>{let a=l.animate(s,o);r++,typeof n=="function"&&a.addEventListener("finish",f=>{r=r-1,r==0&&n()})}),this}fadeOut(e=600,n=null){let s=[{opacity:1},{opacity:0}],o={duration:e,iterations:1,fill:"both"},r=0;return this.elements.forEach(l=>{let a=l.animate(s,o);r++,typeof n=="function"&&a.addEventListener("finish",f=>{r=r-1,r==0&&n()})}),this}}return i}();
